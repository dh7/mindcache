# MindCache

> AI Agent Memory Management - Collaborative key-value store for AI agents with real-time sync.

MindCache 3.4 provides persistent, collaborative memory for AI agents with automatic tool generation, document editing, and real-time sync.

## Quick Links

- Documentation: https://mindcache.dev
- Full LLM Documentation: https://mindcache.dev/llms-full.md
- GitHub: https://github.com/dh7/mindcache
- npm: https://www.npmjs.com/package/mindcache

## Installation

npm install mindcache

## 3 Modes

### Memory Only
```typescript
import { MindCache } from 'mindcache';
const mc = new MindCache();
```

### Offline (IndexedDB)
```typescript
const mc = new MindCache({ indexedDB: { dbName: 'my-app' } });
await mc.waitForSync();
```

### Cloud (Real-Time Sync)
```typescript
import { MindCache } from 'mindcache/cloud';
const mc = new MindCache({ cloud: { instanceId: 'xxx', tokenEndpoint: '/api/ws-token' } });
await mc.waitForSync();
```

## Key Types

### Text (Default)
```typescript
mc.set_value('name', 'Alice');
mc.get_value('name'); // 'Alice'
```

### Document (Collaborative)
```typescript
// Create with set_value
mc.set_value('notes', '# My Notes', { type: 'document' });

// Or use convenience method
mc.set_document('notes', '# My Notes');

// Update (uses diff automatically)
mc.set_value('notes', 'Updated content');

// Character-level edits
mc.insert_text('notes', 0, 'New text');
```

## LLM Tools

```typescript
// Auto-generate Vercel AI SDK tools
const tools = mc.get_aisdk_tools();

// For regular keys: write_<key>
// For document keys: write_<key>, append_<key>, insert_<key>, edit_<key>

const prompt = mc.get_system_prompt();
```

## Undo/Redo

```typescript
mc.undo('key');     // Per-key undo
mc.undoAll();       // Global undo
mc.getGlobalHistory(); // Get history
```

## React Hooks

```tsx
import { useMindCache, useMindCacheDocument } from 'mindcache/react';

const { mindcache, isLoaded } = useMindCache({ indexedDB: { dbName: 'app' } });
const { text, yText, replaceText } = useMindCacheDocument(mc, 'notes');
```

## Core Methods

- set_value(key, value, attrs?) - Store value (use { type: 'document' } for docs)
- get_value(key) - Get value  
- has(key) - Check if key exists
- delete(key) - Remove key
- keys() - Get all key names
- getAll() - Get all values (simple format)
- getAllEntries() - Get all entries with value+attributes (v3.3+)
- set_attributes(key, attrs) - Update only attributes (v3.2+)
- get_attributes(key) - Get key attributes
- set_document(key, text?) - Convenience method to create collaborative doc
- get_document(key) - Get Y.Text for editor binding
- get_aisdk_tools() - Generate LLM tools
- get_system_prompt() - Generate prompt
- undo(key) / redo(key) - Per-key undo
- undoAll() / redoAll() - Global undo

## Tags

- getTags(key) - Get tags for a key
- addTag(key, tag) - Add tag to key
- removeTag(key, tag) - Remove tag from key
- hasTag(key, tag) - Check if key has tag
- getKeysByTag(tag) - Get keys with tag

## Full Documentation

See https://mindcache.dev/llms-full.md

